nav.navbar.navbar-default.row
  .container
    // Brand and toggle get grouped for better mobile display
    .navbar-header
      button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#bs-example-navbar-collapse-1', aria-expanded='false')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.navbar-brand(href='/') my-pw
    // Collect the nav links, forms, and other content for toggling
    #bs-example-navbar-collapse-1.collapse.navbar-collapse

      ul.nav.navbar-nav
        li
          a(href="/") Home
        if (user)
          li
            a(href='/pics') My pics
          li.dropdown
            a.dropdown-toggle(href='#', data-toggle='dropdown', role='button', aria-haspopup='true', aria-expanded='false')
              | Add a Pic#{' '}
              span.caret
            .dropdown-menu
              form(name="formAddPic", style='padding:5px')
                .div(style='padding:5px')
                  input.form-control(name="picUrl", type='text', placeholder='Pic Url...', required, tabindex='1', autofocus)
                .div(style='padding:5px')
                  input.form-control(name="picTitle", type='text', placeholder='Pic Title...', tabindex='2')
                .div(style='padding:5px')
                  button.btn.btn-primary.btn-sm.btn-block(type='submit', tabindex='3')
                    span.glyphicon.glyphicon-submit
                    |  Send

      ul.nav.navbar-nav.navbar-right
        if user
          li
            p.navbar-btn
              a.btn.btn-info(href='/logout')
                span.fa.fa-twitter
                |   Sign Out

        else
          li
            p.navbar-btn
              a.btn.btn-info(href='/auth/twitter')
                span.fa.fa-twitter
                |   Sign in

      // /.navbar-collapse
    // /.container-fluid

script.
  let currentUrl = window.location.href;

  // Get Bootstrap navbars and iterate
  let navbars = document.getElementsByClassName('nav navbar-nav');
  for (let i = 0; i < navbars.length; i++) {

    // Get list items from navbars and iterate
    let liList = navbars[i].getElementsByTagName('LI');
    for (let j = 0; j < liList.length; j++) {

      // Get Links from every list item and iterate
      let linksList = liList[j].getElementsByTagName('A');
      for (let k = 0; k < linksList.length; k++) {

        // Active list items that have links matching current url
        if (linksList[k].href == currentUrl) {
          liList[j].classList.add('active');
        }
      }
    }
  }
